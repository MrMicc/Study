from src.sudoku import Sudoku


class TestSudoku:

    def test_is_rows_valid(self):
        size = 2
        sudoku = Sudoku(board=[[1, 2], [3, 4]])
        assert len(sudoku.rows) == size

    def test_is_cols_valid(self):
        size = 2
        sudoku = Sudoku(board=[[1, 2], [3, 4]])
        assert len(sudoku.cols) == size

    def test_default_values(self):
        value = 3
        sudoku = Sudoku()
        assert len(sudoku.rows) == value
        assert len(sudoku.cols) == value
        assert len(sudoku.square) == 3

    def test_is_with_invalid_sudoku(self):
        sudoku = Sudoku(board=[
            ["99", "3", ".", ".", "7", ".", ".", ".", "."],
            ["6", ".", ".", "1", "9", "5", ".", ".", "."], 
            [".", "9", "8", ".", ".", ".", ".", "6", "."], 
            ["8", ".", ".", ".", "6", ".", ".", ".", "3"], 
            ["4", ".", ".", "8", ".", "3", ".", ".", "1"], 
            ["7", ".", ".", ".", "2", ".", ".", ".", "6"], 
            [".", "6", ".", ".", ".", ".", "2", "8", "."], 
            [".", ".", ".", "4", "1", "9", ".", ".", "5"], 
            [".", ".", ".", ".", "8", ".", ".", "7", "9"]])

        assert sudoku.is_valid() == False

        sudoku = Sudoku(board=[
            ["8", "3", ".", ".", "7", ".", ".", ".", "."], 
            ["6", ".", ".", "1", "9", "5", ".", ".", "."], 
            [".", "9", "8", ".", ".", ".", ".", "6", "."], 
            ["8", ".", ".", ".", "6", ".", ".", ".", "3"], 
            ["4", ".", ".", "8", ".", "3", ".", ".", "1"], 
            ["7", ".", ".", ".", "2", ".", ".", ".", "6"], 
            [".", "6", ".", ".", ".", ".", "2", "8", "."], 
            [".", ".", ".", "4", "1", "9", ".", ".", "5"], 
            [".", ".", ".", ".", "8", ".", ".", "7", "9"]])
        assert sudoku.is_valid() == False;

    def test_is_valid_sudoku(self):
        
        sudoku = Sudoku(board=[
            ["5","3",".",".","7",".",".",".","."],
            ["6",".",".","1","9","5",".",".","."],
            [".","9","8",".",".",".",".","6","."],
            ["8",".",".",".","6",".",".",".","3"],
            ["4",".",".","8",".","3",".",".","1"],
            ["7",".",".",".","2",".",".",".","6"],
            [".","6",".",".",".",".","2","8","."],
            [".",".",".","4","1","9",".",".","5"],
            [".",".",".",".","8",".",".","7","9"]
            ])
        assert sudoku.is_valid() == True
        
